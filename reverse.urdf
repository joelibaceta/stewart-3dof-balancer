<?xml version="1.0" ?>
<robot name="stewart_platform" xmlns:xacro="http://www.ros.org/wiki/xacro">

    <link name="top_plate">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 -0.155"/>
            <geometry>
                <mesh filename="meshes/triangle_filled.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </visual>
    </link>

    <link name="arm1_tip">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.01"/>
            <inertia 
                ixx="1e-6" iyy="1e-6" izz="1e-6" 
                ixy="0" ixz="0" iyz="0"/>
        </inertial>

        <visual>
            <origin xyz="0 0 0.0" rpy="0 0 0"/>
            <geometry>
                <sphere radius="0.005"/>
            </geometry>
            <material name="green"/>
        </visual>

        <collision>
            <origin xyz="0 0 0.0" rpy="0 0 0"/>
            <geometry>
                <sphere radius="0.005"/>
            </geometry>
        </collision>
    </link>

    <link name="arm2_tip">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.01"/>
            <inertia ixx="1e-6" iyy="1e-6" izz="1e-6" ixy="0" ixz="0" iyz="0"/>
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <sphere radius="0.005"/>
            </geometry>
            <material name="green"/>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <sphere radius="0.005"/>
            </geometry>
        </collision>
    </link>

    <link name="arm3_tip">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.01"/>
            <inertia ixx="1e-6" iyy="1e-6" izz="1e-6" ixy="0" ixz="0" iyz="0"/>
        </inertial>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <sphere radius="0.005"/>
            </geometry>
            <material name="green"/>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <sphere radius="0.005"/>
            </geometry>
        </collision>
    </link>

    <joint name="joint_top_to_tip1" type="revolute">
        <parent link="top_plate"/>
        <child link="arm1_tip"/>
        <origin xyz="0.11 0.000 0.00" rpy="0 0 0"/> <!-- vértice 1 -->
        <axis xyz="1 0 0"/> <!-- rotación en eje X -->
        <limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
    </joint>
    <joint name="joint_top_to_tip2" type="revolute">
        <parent link="top_plate"/>
        <child link="arm2_tip"/>
        <origin xyz="-0.055 -0.0950 0.00" rpy="0 0.0 -2.1"/> <!-- vértice 1 -->
        <axis xyz="0 1 0"/> <!-- rotación en eje X -->
        <limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
    </joint>
    <joint name="joint_top_to_tip3" type="revolute">
        <parent link="top_plate"/>
        <child link="arm3_tip"/>
        <origin xyz="-0.055 0.0950 0.00" rpy="0 0.0 2.1"/> <!-- vértice 1 -->
        <axis xyz="0 1 0"/> <!-- rotación en eje X -->
        <limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
    </joint>

    <link name="arm1">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.03"/> <!-- Aproximadamente 30g si es PLA -->
            <inertia 
                ixx="1e-6" iyy="1e-6" izz="1e-6" 
                ixy="0" ixz="0" iyz="0"/>
        </inertial>

        <visual>
            <origin xyz="-0.0095 0.000 -0.012" rpy="2.1 0 1.6"/>
            <geometry>
                <mesh filename="meshes/arm.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="blue"/>
        </visual>

        <collision>
            <origin xyz="0.0314 0.000 0.0583" rpy="2.1 0 1.6"/>
            <geometry>
                <mesh filename="meshes/arm.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="tip1_to_arm1" type="revolute">
        <parent link="arm1_tip"/>
        <child link="arm1"/>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <axis xyz="0 1 0"/>
        <limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
    </joint>

    <link name="arm2">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.025"/> <!-- Aproximadamente 25g -->
            <inertia 
                ixx="1e-5" iyy="1e-5" izz="1e-5" 
                ixy="0" ixz="0" iyz="0"/>
        </inertial>

        <visual>
            <origin xyz="-0.0095 0.000 -0.012" rpy="2.1 0 1.6"/>
            <geometry>
                <mesh filename="meshes/arm.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="blue"/>
        </visual>

        <collision>
            <origin xyz="0.0314 0.000 0.0583" rpy="2.1 0 1.6"/>
            <geometry>
                <mesh filename="meshes/arm.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="tip2_to_arm2" type="revolute">
        <parent link="arm2_tip"/>
        <child link="arm2"/>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <axis xyz="0 1 0"/>
        <limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
    </joint>

    <link name="arm3">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.025"/> <!-- Masa estimada para brazo impreso en PLA -->
            <inertia 
                ixx="1e-5" iyy="1e-5" izz="1e-5" 
                ixy="0" ixz="0" iyz="0"/>
        </inertial>

        <visual>
            <origin xyz="-0.0095 0.000 -0.012" rpy="2.1 0 1.6"/>
            <geometry>
                <mesh filename="meshes/arm.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="blue"/>
        </visual>

        <collision>
            <origin xyz="0.0314 0.000 0.0583" rpy="2.1 0 1.6"/>
            <geometry>
                <mesh filename="meshes/arm.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="tip3_to_arm3" type="revolute">
        <parent link="arm3_tip"/>
        <child link="arm3"/>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <axis xyz="0 1 0"/>
        <limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
    </joint>

    <link name="dot1">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.025"/>
            <inertia 
                ixx="1e-6" iyy="1e-6" izz="1e-6" 
                ixy="0" ixz="0" iyz="0"/>
        </inertial>
        <visual>
            <origin xyz="0 0.00 0" rpy="-1.55 1.571 3.2"/>
            <geometry>
                <mesh filename="meshes/dot.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="blue"/>
        </visual>
        <collision>
            <origin xyz="-0.012 0.007 0" rpy="-1.55 1.571 3.2"/>
            <geometry>
                <mesh filename="meshes/dot.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="joint_arm1_to_dot1" type="revolute">
        <parent link="arm1"/>
        <child link="dot1"/>
        <origin xyz="-0.041 0.0068 -0.07" rpy="0 0 0"/>
        <axis xyz="0 1 0"/>
        <limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
    </joint>

    <link name="dot2">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.025"/>
            <inertia 
                ixx="1e-6" iyy="1e-6" izz="1e-6" 
                ixy="0" ixz="0" iyz="0"/>
        </inertial>
        <visual>
            <origin xyz="0 0.00 0" rpy="-1.55 1.571 3.2"/>
            <geometry>
                <mesh filename="meshes/dot.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="blue"/>
        </visual>
        <collision>
            <origin xyz="-0.012 0.007 0" rpy="-1.55 1.571 3.2"/>
            <geometry>
                <mesh filename="meshes/dot.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="joint_arm2_to_dot2" type="revolute">
        <parent link="arm2"/>
        <child link="dot2"/>
        <origin xyz="-0.041 0.0068 -0.07" rpy="0 0 0"/>
        <axis xyz="0 1 0"/>
        <limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
    </joint>

    <link name="dot3">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.025"/>
            <inertia 
                ixx="1e-6" iyy="1e-6" izz="1e-6" 
                ixy="0" ixz="0" iyz="0"/>
        </inertial>
        <visual>
            <origin xyz="0 0.00 0" rpy="-1.55 1.571 3.2"/>
            <geometry>
                <mesh filename="meshes/dot.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="blue"/>
        </visual>
        <collision>
            <origin xyz="-0.012 0.007 0" rpy="-1.55 1.571 3.2"/>
            <geometry>
                <mesh filename="meshes/dot.stl" scale="0.001 0.001 0.001"/>
            </geometry>
        </collision>
    </link>

    <joint name="joint_arm3_to_dot3" type="revolute">
        <parent link="arm3"/>
        <child link="dot3"/>
        <origin xyz="-0.041 0.0068 -0.07" rpy="0 0 0"/>
        <axis xyz="0 1 0"/>
        <limit lower="-1.57" upper="1.57" effort="1" velocity="1"/>
    </joint>

    <link name="dot1_base">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.025"/>
            <inertia 
                ixx="1e-6" iyy="1e-6" izz="1e-6" 
                ixy="0" ixz="0" iyz="0"/>
        </inertial>
        <visual>
            <origin xyz="0.005 0 -0.005" rpy="0 0 0"/>
            <geometry>
                <box size="0.005 0.005 0.015"/>
            </geometry>
            <material name="grey"/>
        </visual>
    </link>

    <joint name="joint_dot1_dot1_base" type="fixed">
        <parent link="dot1"/>
        <child link="dot1_base"/>
        <origin xyz="0.010 -0.0088 0" rpy="0 0 0"/>
    </joint>

    <link name="dot2_base">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.025"/>
            <inertia 
                ixx="1e-6" iyy="1e-6" izz="1e-6" 
                ixy="0" ixz="0" iyz="0"/>
        </inertial>
        <visual>
            <origin xyz="0.005 0 -0.005" rpy="0 0 0"/>
            <geometry>
                <box size="0.005 0.005 0.015"/>
            </geometry>
            <material name="grey"/>
        </visual>
    </link> 

    <joint name="joint_dot2_dot2_base" type="fixed">
        <parent link="dot2"/>
        <child link="dot2_base"/>
        <origin xyz="0.010 -0.0088 0" rpy="0 0 0"/>
    </joint>

    <link name="dot3_base">
        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <mass value="0.025"/>
            <inertia 
                ixx="1e-6" iyy="1e-6" izz="1e-6" 
                ixy="0" ixz="0" iyz="0"/>
        </inertial>
        <visual>
            <origin xyz="0.005 0 -0.005" rpy="0 0 0"/>
            <geometry>
                <box size="0.005 0.005 0.015"/>
            </geometry>
            <material name="grey"/>
        </visual>
    </link> 

    <joint name="joint_dot3_dot3_base" type="fixed">
        <parent link="dot3"/>
        <child link="dot3_base"/>
        <origin xyz="0.010 -0.0088 0" rpy="0 0 0"/>
    </joint>

    <link name="base_link"/>
    <gazebo reference="base_link"><static>true</static></gazebo>  <!-- sólo si usas Gazebo -->

    <joint name="base_to_dot1_base" type="fixed">
        <parent link="base_link"/>
        <child  link="dot1_base"/>
        <origin xyz="X1 Y1 Z1" rpy="0 0 0"/>
    </joint>

    <joint name="base_to_dot2_base" type="fixed">
        <parent link="base_link"/>
        <child  link="dot2_base"/>
        <origin xyz="X2 Y2 Z2" rpy="0 0 0"/>
    </joint>

    <joint name="base_to_dot3_base" type="fixed">
        <parent link="base_link"/>
        <child  link="dot3_base"/>
        <origin xyz="X3 Y3 Z3" rpy="0 0 0"/>
    </joint>

</robot>